{
    "name": "faktiva/php-admin-tk",
    "description": "Simple wrapper around a bounce of tools intended to be installed on a web server vhost for administrative purposes",
    "type": "project",
    "homepage": "https://github.com/faktiva/php-admin-tk",
    "license": "CC-BY-SA-4.0",
    "authors": [
        {
            "name": "Emiliano Gabrielli",
            "email": "albert@faktiva.com",
            "role": "Developer"
        }
    ],
    "minimum-stability": "stable",
    "config": {
        "github-protocols": ["https"],
        "archive-format": "zip",
        "platform": {"php": "5.4.0"},
        "optimize-autoloader": true
    },
    "repositories": [
        {
            "type": "package",
            "package": {
                "name": "hgschmie/phpmemcacheadmin",
                "version": "1.2.2",
                "source": {
                    "url": "https://github.com/hgschmie/phpmemcacheadmin",
                    "type": "git",
                    "reference": "7f935bf"
                }
            }
        },
        {
            "type": "package",
            "package": {
                "name": "vrana/adminer",
                "version": "4.2.5",
                "dist": {
                    "url": "https://www.adminer.org/static/download/4.2.5/adminer-4.2.5.php",
                    "type": "file"
                },
                "source": {
                    "url": "https://github.com/vrana/adminer",
                    "type": "git",
                    "reference": "v4.2.5"
                }
            }
        }
    ],
    "extra": {
        "installer-paths": {
            "./httpdocs/tools/OPcache_GUI": ["amnuts/opcache-gui"],
            "./httpdocs/tools/PHP_error_log": ["amnuts/phperror-gui"]
        }
    },
    "scripts": {
        "post-install-cmd": [
            "php -r '@mkdir(__DIR__.\"/httpdocs/tools\", 0777, true);'",
            "@phpinfo",
            "@errorgui",
            "@adminer",
            "@redisadmin",
            "@memcacheadmin"
        ],

        "phpinfo": [
            "php -r 'file_put_contents(__DIR__.\"/httpdocs/tools/PHP_info.php\", \"<?php\n\nphpinfo();\n\");'"
        ],
        "errorgui": [
            "php -r 'chdir(__DIR__.\"/httpdocs/tools/PHP_error_log\"); @symlink(\"phperror-gui.php\", \"index.php\");'"
        ],
        "adminer": [
            "php -r 'chdir(__DIR__.\"/httpdocs/tools\"); @symlink(array_shift(glob(\"../../vendor/vrana/adminer/adminer*.php\")), \"Adminer.php\");'",
            "php -r '$f=__DIR__.\"/httpdocs/tools/Adminer.php\"; $c=file_get_contents($f); $c=preg_replace(\"#(header\\(\\\"X-Frame-Options: deny\\\"\\);)#\", \"\", $c); file_put_contents($f, $c);'"
        ],
        "redisadmin": [
            "php -r 'chdir(__DIR__.\"/httpdocs/tools\"); @symlink(\"../../vendor/faktiva/php-redis-admin/public/\", \"Redis_admin\");'"
        ],
        "memcacheadmin": [
            "php -r 'chdir(__DIR__.\"/httpdocs/tools\"); @symlink(\"../../vendor/hgschmie/phpmemcacheadmin/\", \"phpMemcachedAdmin\");'"
        ]
    },
    "require": {
        "php": ">=5.4.0",
        "mnsami/composer-custom-directory-installer": "^1.0",
        "amnuts/phperror-gui": "^1.0",
        "amnuts/opcache-gui": "^2.2",
        "faktiva/php-redis-admin": "^1.2",
        "vrana/adminer": "^4.2",
        "hgschmie/phpmemcacheadmin": "^1.2.2"
    },
    "require-dev": {
        "friendsofphp/php-cs-fixer": "^1.11",
        "symfony/var-dumper": "^2.8|^3.0",
        "symfony/debug": "^2.8|^3.0"
    }
}
